<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      var Data1 = { search: "Rajdhani" };
      

      function farmatParams(Data1) {
        return (
          "?" +
          Object.keys(Data1).map(function (key) {
            return key + "=" + encodeURIComponent(Data1[key]);
          })
        );
      }

      var TrainData = [];
      function trainInfo() {
        var getData = new XMLHttpRequest();
        getData.onreadystatechange = function () {
          if (getData.readyState == 4 && getData.status == 200){
            TrainData = JSON.parse(getData.response)
            console.log(" this from with using promise   ",TrainData)
          }
        };
        getData.open("POST","https://trains.p.rapidapi.com/"+farmatParams(Data1))
        getData.setRequestHeader("content-Type","application/json")
        getData.setRequestHeader("X-RapidAPI-Key","f55afadb54msh9a226ca8c13ce9ap177567jsnbedee190261f")
        getData.setRequestHeader("X-RapidAPI-Host","trains.p.rapidapi.com")
        getData.send()
      }
      trainInfo();

      // ***************** 400 error code ******************
    </script>
  </body>
</html>